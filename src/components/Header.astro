<header role="banner" class="sticky top-0 z-50">
  <div class="navbar bg-base-100 shadow-sm">
    <div class="navbar-start">
      <div class="dropdown">
        <div
          tabindex="0"
          role="button"
          class="btn btn-ghost lg:hidden"
          aria-label="Abrir menú de navegación"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h8m-8 6h16"></path>
          </svg>
        </div>
        <ul
          tabindex="-1"
          class="menu menu-sm dropdown-content bg-base-100 rounded-box z-1 mt-3 w-52 p-2 shadow"
        >
          <li><a href={import.meta.env.BASE_URL}>Inicio</a></li>
          <li>
            <details>
              <summary>Variantes Home</summary>
              <ul class="p-2">
                <li><a href="/index-variant2">Home Variante 2</a></li>
                <li><a href="/index-variant3">Home Variante 3</a></li>
              </ul>
            </details>
          </li>
          <li>
            <a href={`${import.meta.env.BASE_URL}comunicacion-medioambiental`}
              >Comunicación Medioambiental</a
            >
          </li>
          <li>
            <a href={`${import.meta.env.BASE_URL}biologia-marina`}
              >Biología Marina</a
            >
          </li>
          <li>
            <details>
              <summary>Diseños Sobre mí</summary>
              <ul class="p-2">
                <li>
                  <a href="/designs/about-variants/variant-modern-1"
                    >Moderno 1 (Hero minimalista)</a
                  >
                </li>
                <li>
                  <a href="/designs/about-variants/variant-modern-2"
                    >Moderno 2 (Grid colorido)</a
                  >
                </li>
                <li>
                  <a href="/designs/about-variants/variant-modern-3"
                    >Moderno 3 (Card elegante)</a
                  >
                </li>
              </ul>
            </details>
          </li>
          <li>
            <details>
              <summary>Viajes</summary>
              <ul class="p-2">
                <li>
                  <a href={`${import.meta.env.BASE_URL}designs/list-grid`}
                    >Viajes Grid</a
                  >
                </li>
                <li>
                  <a href={`${import.meta.env.BASE_URL}designs/list-slider`}
                    >Viajes Slider</a
                  >
                </li>
                <li>
                  <a href={`${import.meta.env.BASE_URL}designs/list-parallax`}
                    >Viajes Parallax</a
                  >
                </li>
              </ul>
            </details>
          </li>
          <li>
            <a href={`${import.meta.env.BASE_URL}proyectos/`}>Proyectos</a>
          </li>
          <li><a href={`${import.meta.env.BASE_URL}sobre-mi`}>Sobre mí</a></li>
        </ul>
      </div>
      <a
        href={import.meta.env.BASE_URL}
        class="btn btn-ghost text-xl hidden lg:flex">Pablo Dive</a
      >
    </div>

    <div class="navbar-center lg:hidden">
      <a href={import.meta.env.BASE_URL} class="btn btn-ghost text-xl"
        >Pablo Dive</a
      >
    </div>

    <!-- DESKTOP -->

    <div class="navbar-end">
      <ul class="menu menu-horizontal px-1 hidden lg:flex">
        <li><a href={import.meta.env.BASE_URL}>Inicio</a></li>
        <li>
          <details>
            <summary>Variantes Home</summary>
            <ul class="p-2">
              <li><a href="/index-variant2">Home Variante 2</a></li>
              <li><a href="/index-variant3">Home Variante 3</a></li>
              <li>
                <a href="/index-variant6">Home Variante 6 (Super Visual)</a>
              </li>
            </ul>
          </details>
        </li>
        <li>
          <a href={`${import.meta.env.BASE_URL}comunicacion-medioambiental`}
            >Comunicación Medioambiental</a
          >
        </li>
        <li>
          <a href={`${import.meta.env.BASE_URL}biologia-marina`}
            >Biología Marina</a
          >
        </li>
        <li>
          <details>
            <summary>Diseños Sobre mí</summary>
            <ul class="p-2">
              <li>
                <a href="/designs/about-variants/variant-modern-1"
                  >Moderno 1 (Hero minimalista)</a
                >
              </li>
              <li>
                <a href="/designs/about-variants/variant-modern-2"
                  >Moderno 2 (Grid colorido)</a
                >
              </li>
              <li>
                <a href="/designs/about-variants/variant-modern-3"
                  >Moderno 3 (Card elegante)</a
                >
              </li>
            </ul>
          </details>
        </li>
        <li>
          <details>
            <summary>Viajes</summary>
            <ul class="p-2">
              <li>
                <a href={`${import.meta.env.BASE_URL}designs/list-grid`}
                  >Viajes Grid</a
                >
              </li>
              <li>
                <a href={`${import.meta.env.BASE_URL}designs/list-slider`}
                  >Viajes Slider</a
                >
              </li>
              <li>
                <a href={`${import.meta.env.BASE_URL}designs/list-parallax`}
                  >Viajes Parallax</a
                >
              </li>
            </ul>
          </details>
        </li>
        <li>
          <a href={`${import.meta.env.BASE_URL}proyectos/`}>Proyectos</a>
        </li>
        <li><a href={`${import.meta.env.BASE_URL}sobre-mi`}>Sobre mí</a></li>
      </ul>
      <button
        id="theme-toggle"
        class="btn btn-ghost ml-2"
        aria-label="Cambiar tema"
      >
        <span id="theme-icon">
          <svg
            id="icon-sun"
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            style="display:none"
          >
            <circle
              cx="12"
              cy="12"
              r="5"
              stroke="currentColor"
              stroke-width="2"
              fill="currentColor"></circle>
            <path
              stroke="currentColor"
              stroke-width="2"
              d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"
            ></path>
          </svg>
          <svg
            id="icon-moon"
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke="currentColor"
              stroke-width="2"
              d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"></path>
          </svg>
        </span>
      </button>
      <script is:inline>
        function setThemeIcon(isDark) {
          const sun = document.getElementById("icon-sun");
          const moon = document.getElementById("icon-moon");
          if (sun && moon) {
            sun.style.display = isDark ? "inline" : "none";
            moon.style.display = isDark ? "none" : "inline";
          }
        }
        function applyTheme(theme) {
          document.documentElement.setAttribute("data-theme", theme);
          setThemeIcon(theme === "dark");
        }
        function toggleTheme() {
          const html = document.documentElement;
          const currentTheme = html.getAttribute("data-theme");
          const newTheme = currentTheme === "dark" ? "light" : "dark";
          applyTheme(newTheme);
          localStorage.setItem("theme", newTheme);
        }
        window.addEventListener("DOMContentLoaded", () => {
          const btn = document.getElementById("theme-toggle");
          if (btn) {
            btn.addEventListener("click", toggleTheme);
          }
          const savedTheme = localStorage.getItem("theme");
          if (savedTheme) {
            applyTheme(savedTheme);
          } else {
            // Si quieres que el sistema decida el tema inicial:
            const prefersDark = window.matchMedia(
              "(prefers-color-scheme: dark)",
            ).matches;
            applyTheme(prefersDark ? "dark" : "light");
          }
        });
      </script>
    </div>
  </div>
</header>
