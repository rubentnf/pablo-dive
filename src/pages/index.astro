---
import { Image } from "astro:assets";
import { marked } from "marked";

import Layout from "../layouts/Layout.astro";
import { getAbout } from "./index.api";

const about = await getAbout();
const aboutExtendedBio = marked(about.extendedBio || "");
---

<Layout
  title="Inicio - Pablo Dive"
  description="Pablo Mart铆n, bi贸logo marino de Tenerife especializado en conservaci贸n de ecosistemas submarinos canarios. Investigaci贸n cient铆fica y divulgaci贸n digital para proteger nuestro oc茅ano."
  type="website"
>
  <div class="min-h-screen p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
      <!-- Header -->
      <section class="mb-8 flex justify-between items-end">
        <div>
          <h1 class="text-4xl font-bold text-slate-900">
            {about.fullname}
            <span class="text-2xl" aria-hidden="true">た</span>
          </h1>
          <p class="text-slate-700 text-base md:text-lg">
            Bi贸logo Marino y Creador de Contenido.
          </p>
        </div>
      </section>

      <!-- Bento Grid -->
      <div
        class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 auto-rows-[minmax(180px, auto)]"
      >
        <!-- Main Bio Card (Large) -->
        <div
          class="md:col-span-2 lg:col-span-2 row-span-2 bg-white rounded-3xl p-8 shadow-sm hover:shadow-md transition-shadow flex flex-col justify-between group"
        >
          <div>
            <div
              class="text-slate-800 leading-relaxed text-base md:text-lg prose prose-slate prose-lg max-w-none"
              set:html={aboutExtendedBio}
            />
          </div>
        </div>

        <!-- Foto Card -->
        <div
          class="md:col-span-1 lg:col-span-2 row-span-2 relative rounded-3xl overflow-hidden group min-h-[500px] md:min-h-0"
        >
          <Image
            src="/portada.webp"
            alt="Pablo Dive"
            width={800}
            height={800}
            sizes="(max-width: 600px) 100vw, (max-width: 1024px) 50vw, 800px"
            class="w-full absolute duration-700 group-hover:scale-105 h-full inset-0 object-cover transition-transform"
            loading="lazy"
          />
          <div
            class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-8"
          >
          </div>
        </div>
      </div>

      <div
        class="mt-12 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 auto-rows-[minmax(180px, auto)]"
      >
      </div>
      <div class="mt-12 mb-6 text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-2">
          Explora las secciones
        </h2>
        <p class="text-base md:text-lg text-slate-600">
          Descubre el mundo del buceo, informaci贸n sobre el avistamiento de
          cet谩ceos, la biolog铆a marina o la comunicaci贸n medioambiental y las
          empresas colaboradoras.
        </p>
      </div>
      <div
        class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 auto-rows-[minmax(180px, auto)]"
      >
        <!-- Cards resumen de secciones principales -->
        <a
          href="/empresas"
          class="bg-white text-slate-900 rounded-3xl p-8 flex flex-col justify-between items-center hover:shadow-md shadow transition-all duration-200 border border-slate-100"
        >
          <Image
            src="/empresas.webp"
            alt="Empresas"
            width={64}
            height={64}
            class="w-50 h-50 object-cover"
            loading="lazy"
          />
          <span class="block text-center text-lg md:text-xl font-semibold mb-1"
            >Empresas</span
          >
        </a>
        <a
          href="/buceo"
          class="bg-white text-slate-900 rounded-3xl p-8 flex flex-col justify-between items-center hover:shadow-md shadow transition-all duration-200 border border-slate-100"
        >
          <Image
            src="/buceo.webp"
            alt="Buceo"
            width={64}
            height={64}
            class="w-50 h-50 object-cover"
            loading="lazy"
          />
          <span class="block text-center text-lg md:text-xl font-semibold mb-1"
            >Buceo</span
          >
        </a>
        <a
          href="/avistamiento-cetaceos"
          class="bg-white text-slate-900 rounded-3xl p-8 flex flex-col justify-between items-center hover:shadow-md shadow transition-all duration-200 border border-slate-100"
        >
          <Image
            src="/avistamiento.webp"
            alt="Avistamiento de Cet谩ceos"
            width={64}
            height={64}
            class="w-50 h-50 object-contain"
            loading="lazy"
          />
          <span
            class="block text-center text-base md:text-lg font-semibold mb-1 leading-tight"
            >Avistamiento de Cet谩ceos</span
          >
        </a>
        <a
          href="/biologia-marina"
          class="bg-white text-slate-900 rounded-3xl p-8 flex flex-col justify-between items-center hover:shadow-md shadow transition-all duration-200 border border-slate-100"
        >
          <Image
            src="/biologiamarina.webp"
            alt="Biolog铆a Marina"
            width={64}
            height={64}
            class="w-50 h-50 object-cover"
            loading="lazy"
          />
          <span class="block text-center text-lg md:text-xl font-semibold mb-1"
            >Biolog铆a Marina</span
          >
        </a>
        <a
          href="/comunicacion-medioambiental"
          class="bg-white text-slate-900 rounded-3xl p-8 flex flex-col justify-between items-center hover:shadow-md shadow transition-all duration-200 border border-slate-100"
        >
          <Image
            src="/comunicacion.webp"
            alt="Comunicaci贸n Medioambiental"
            width={64}
            height={64}
            class="w-50 h-50 object-cover"
            loading="lazy"
          />
          <span
            class="block text-center text-base md:text-lg font-semibold mb-1 leading-tight"
            >Comunicaci贸n Medioambiental</span
          >
        </a>
      </div>
    </div>
  </div>
</Layout>
