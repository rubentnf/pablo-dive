---
import Layout from "../layouts/Layout.astro";
---

<Layout
  title="Inicio - Pablo Dive"
  description="Pablo Mart√≠n, bi√≥logo marino de Tenerife especializado en conservaci√≥n de ecosistemas submarinos canarios. Investigaci√≥n cient√≠fica y divulgaci√≥n digital para proteger nuestro oc√©ano."
  type="website"
>
  <div class="bg-black text-white">
    <!-- Film Grain Overlay -->
    <div
      class="fixed inset-0 pointer-events-none z-50 opacity-10 mix-blend-overlay"
    >
      <div class="film-grain w-full h-full"></div>
    </div>

    <!-- Hero Section -->
    <section
      class="h-screen flex items-start justify-start pt-12 relative overflow-hidden section-fade"
    >
      <div class="absolute inset-0">
        <div
          class="absolute inset-0 bg-gradient-to-b from-black via-transparent to-black z-10"
        >
        </div>
        <div
          class="absolute inset-0 bg-[url('/fondo-hero.webp')] bg-cover bg-center opacity-40"
        >
        </div>
      </div>

      <div class="relative z-20 text-center md:text-left px-6 max-w-6xl">
        <!-- <div class="scanline mb-8"></div> -->
        <h1
          class="text-5xl md:text-[8rem] font-black mb-6 tracking-tighter leading-none"
        >
          <!-- PABLO<br />DIVE -->
          PABLO DIVE
        </h1>
        <!-- <div
          class="h-px w-64 mx-auto bg-gradient-to-r from-transparent via-white to-transparent mb-8"
        >
        </div> -->
        <p
          class="text-xs text-center md:text-xl font-light tracking-[0.3em] uppercase"
        >
          Bi√≥logo Marino ¬∑ Divulgador Ambiental ¬∑ Explorador Oce√°nico
        </p>
      </div>
    </section>
    <!-- Mission Statement -->
    <!-- <section
      class="h-screen flex items-center justify-center px-6 section-fade"
    >
      <div class="max-w-4xl text-center">
        <p class="text-4xl md:text-6xl font-light leading-tight mb-12">
          "Cada inmersi√≥n es una oportunidad para <span
            class="italic font-serif">descubrir</span
          >,
          <span class="italic font-serif">documentar</span> y <span
            class="italic font-serif">proteger</span
          >
          la vida que habita bajo las olas."
        </p>
        <div class="flex justify-center gap-3">
          <div class="w-2 h-2 bg-white rounded-full"></div>
          <div class="w-2 h-2 bg-white/50 rounded-full"></div>
          <div class="w-2 h-2 bg-white/30 rounded-full"></div>
        </div>
      </div>
    </section> -->

    <!-- Horizontal Scroll Section -->
    <section class="horizontal-section">
      <div class="horizontal-container">
        <div class="horizontal-content">
          {
            [
              {
                title: "Comunicaci√≥n Medioambiental",
                desc: "Documentando especies y ecosistemas marinos",
                icon: "üì¢",
                url: "comunicacion-medioambiental",
              },
              {
                title: "Biolog√≠a Marina",
                desc: "Compartiendo conocimiento con 294K seguidores",
                icon: "üåä",
                url: "biologia-marina",
              },
              {
                title: "Buceo",
                desc: "Protegiendo nuestros oc√©anos para el futuro",
                icon: "ü§ø",
                url: "buceo",
              },
              {
                title: "Proyectos",
                desc: "Implementando soluciones reales y medibles",
                icon: "üî¨",
                url: "proyectos",
              },
              {
                title: "Sobre m√≠",
                desc: "Implementando soluciones reales y medibles",
                icon: "ü¶à",
                url: "sobre-mi",
              },
            ].map((item) => (
              <div class="horizontal-item">
                <div class="text-8xl mb-8">{item.icon}</div>
                <h3 class="text-5xl font-bold mb-6">{item.title}</h3>
                <p class="text-2xl text-gray-400 max-w-md">{item.desc}</p>
                <p class="text-xl text-blue-400 max-w-md">
                  <a href={`${import.meta.env.BASE_URL}${item.url}`}>
                    M√°s informaci√≥n
                  </a>
                </p>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <!-- Stats Cinematic -->
    <section
      class="h-screen flex items-center justify-center px-6 section-fade"
    >
      <div class="grid grid-cols-2 md:grid-cols-4 gap-16 max-w-6xl w-full">
        {
          [
            { value: "294K", label: "Seguidores" },
            { value: "+10", label: "A√±os de experiencia" },
            { value: "+5000", label: "Inmersiones" },
            { value: "‚àû", label: "Especies" },
          ].map((stat) => (
            <div class="text-center">
              <div class="text-7xl md:text-8xl font-black mb-4 tabular-nums">
                {stat.value}
              </div>
              <div class="text-sm uppercase tracking-[0.5em] text-gray-500">
                {stat.label}
              </div>
            </div>
          ))
        }
      </div>
    </section>

    <!-- Final CTA -->
    <section
      class="h-screen flex items-center justify-center px-6 section-fade"
    >
      <div class="text-center max-w-3xl">
        <h2 class="text-6xl md:text-8xl font-black mb-12">√öNETE</h2>
        <p class="text-2xl text-gray-400 mb-16">
          S√© parte del movimiento que est√° cambiando el futuro de nuestros
          oc√©anos
        </p>
        <a
          href="https://instagram.com"
          target="_blank"
          class="inline-block px-12 py-6 border-2 border-white text-white font-bold text-xl uppercase tracking-wider hover:bg-white hover:text-black transition-all duration-300"
        >
          S√≠gueme en Instagram
        </a>
        <a
          href="https://instagram.com"
          target="_blank"
          class="inline-block px-12 py-6 border-2 border-white text-white font-bold text-xl uppercase tracking-wider hover:bg-white hover:text-black transition-all duration-300"
        >
          S√≠gueme en TikTok
        </a>
      </div>
    </section>
  </div>
</Layout>

<style>
  /* Film Grain */
  @keyframes grain {
    0%,
    100% {
      transform: translate(0, 0);
    }
    10% {
      transform: translate(-5%, -10%);
    }
    20% {
      transform: translate(-15%, 5%);
    }
    30% {
      transform: translate(7%, -25%);
    }
    40% {
      transform: translate(-5%, 25%);
    }
    50% {
      transform: translate(-15%, 10%);
    }
    60% {
      transform: translate(15%, 0%);
    }
    70% {
      transform: translate(0%, 15%);
    }
    80% {
      transform: translate(3%, 35%);
    }
    90% {
      transform: translate(-10%, 10%);
    }
  }

  .film-grain {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    animation: grain 8s steps(10) infinite;
  }

  /* Scanline */
  .scanline {
    height: 2px;
    width: 100%;
    background: linear-gradient(90deg, transparent, white, transparent);
    animation: scan 2s linear infinite;
  }

  @keyframes scan {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }

  /* Horizontal Scroll */
  .horizontal-section {
    height: 100vh;
    overflow: hidden;
  }

  .horizontal-container {
    height: 100%;
    display: flex;
    align-items: center;
  }

  .horizontal-content {
    display: flex;
    gap: 8rem;
    padding: 0 4rem;
  }

  .horizontal-item {
    min-width: 600px;
    text-align: center;
    padding: 4rem;
  }

  /* Section Fade */
  .section-fade {
    opacity: 0;
    transition: opacity 1s ease-out;
  }

  .section-fade.visible {
    opacity: 1;
  }
</style>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  import Lenis from "lenis";

  gsap.registerPlugin(ScrollTrigger);

  // Initialize Lenis
  const lenis = new Lenis({
    duration: 1.5,
    easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
    smoothWheel: true,
  });

  function raf(time: number) {
    lenis.raf(time);
    requestAnimationFrame(raf);
  }

  requestAnimationFrame(raf);

  // Section Fade In
  const sections = document.querySelectorAll(".section-fade");
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
        }
      });
    },
    { threshold: 0.3 },
  );

  sections.forEach((section) => observer.observe(section));

  // Horizontal Scroll
  const horizontalSection = document.querySelector(".horizontal-section");
  const horizontalContent = document.querySelector(".horizontal-content");

  if (horizontalSection && horizontalContent) {
    const scrollWidth = (horizontalContent as HTMLElement).scrollWidth;

    gsap.to(horizontalContent, {
      x: () => -(scrollWidth - window.innerWidth),
      ease: "none",
      scrollTrigger: {
        trigger: horizontalSection,
        start: "top top",
        end: () => `+=${scrollWidth}`,
        scrub: 1,
        pin: true,
        anticipatePin: 1,
      },
    });
  }
</script>
