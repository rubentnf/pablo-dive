---
import Layout from "../../layouts/Layout.astro";
import { getEnabledProjects } from "../proyectos/project.api";

const projects = await getEnabledProjects();
---

<Layout title="Proyectos Pablo Dive" description="">
  <div class="min-h-screen bg-base-content text-blue-800 py-32 px-6">
    <div class="max-w-4xl mx-auto">
      <header class="mb-24 text-center">
        <h1 class="text-6xl md:text-8xl font-light tracking-tight mb-8">
          Proyectos
        </h1>
      </header>

      <div class="space-y-24">
        {
          projects.map((project, i) => (
            <a
              href={project.webURL}
              target="_blank"
              rel="noopener noreferrer"
              class="group block border-b border-slate-100 pb-24 hover:border-slate-900 transition-colors"
            >
              <div class="flex flex-col md:flex-grow gap-12 items-start">
                <div class="md:w-1/3">
                  <span class="font-mono text-sm text-slate-700 mb-4 block">
                    {String(i + 1).padStart(2, "0")}
                  </span>
                  <h2 class="text-3xl md:text-4xl font-light mb-6 group-hover:text-blue:600 transition-colors">
                    {project.title}
                  </h2>
                </div>

                <div class="md:w-2/3">
                  <div class="aspect-video overflow-hidden bg-slate-100 rounded-sm">
                    <img
                      src={project.image.url}
                      alt={project.title}
                      class="w-full h-full object-contain group-hover:scale-105 transition-all duration-700"
                    />
                  </div>
                </div>
              </div>
            </a>
          ))
        }
      </div>
    </div>
  </div>
</Layout>
