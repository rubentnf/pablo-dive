---
import Layout from "../../layouts/Layout.astro";
import { getTrips } from "../trips/trip.api";

const trips = await getTrips();
---

<Layout
  title="Viajes | Pablo Dive"
  description="Viajes y expediciones relacionados con el submarinismo"
>
  <div class="bg-black text-white">
    {
      trips.map((trip, index) => (
        <section class="relative h-screen flex items-center justify-center overflow-hidden group">
          <div class="absolute inset-0 z-0">
            <img
              src={trip.image.url}
              alt={trip.title}
              class="w-full h-full object-cover opacity-60 transition-transform duration-[2s] group-hover:scale-110"
            />
            <div class="absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-colors duration-500" />
          </div>

          <div class="relative z-10 text-center px-6 max-w-4xl">
            <span class="inline-block py-1 px-3 border border-white/30 rounded-full text-xs uppercase tracking-widest mb-6 backdrop-blur-sm">
              {trip.destination}
            </span>
            <h2 class="text-5xl md:text-8xl font-bold mb-8 tracking-tight leading-none">
              {trip.title}
            </h2>
            <p class="text-lg md:text-2xl text-slate-200 mb-12 max-w-2xl mx-auto font-light leading-relaxed">
              {trip.summary}
            </p>

            <div class="flex flex-col sm:flex-row items-center justify-center gap-6">
              <a
                href={`/trips/${trip.slug}`}
                class="px-8 py-4 bg-white text-black font-bold rounded-full hover:bg-cyan-400 transition-colors"
              >
                Ver detalles
              </a>
              <div class="flex gap-8 text-sm">
                <span>{trip.duration} DÍAS</span>
                <span>DESDE {trip.price}€</span>
              </div>
            </div>
          </div>

          {index < trips.length - 1 && (
            <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce opacity-50 text-4xl">
              ↓
            </div>
          )}
        </section>
      ))
    }
  </div>
</Layout>
